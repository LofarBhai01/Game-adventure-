<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Number Game</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      font-weight: bold;
      background: linear-gradient(to right, #ffecd2, #fcb69f);
      overflow-x: hidden;
    }
    .container {
      padding: 10px;
      text-align: center;
    }
    h1 {
      color: #333;
    }
    .level-select, .quiz, .counting, .input-mode, .upload-ads {
      display: none;
    }
    button {
      margin: 5px;
      padding: 10px 20px;
      font-size: 16px;
      border-radius: 10px;
      border: none;
      cursor: pointer;
    }
    .option {
      display: block;
      margin: 10px auto;
      padding: 10px;
      width: 80%;
      font-size: 20px;
      border-radius: 8px;
    }
    .option1 { background-color: #ff9999; }
    .option2 { background-color: #99ccff; }
    .option3 { background-color: #99ff99; }
    .option4 { background-color: #ffff99; }
    .timer { color: red; font-size: 24px; margin: 10px; }
    .play, .back { background-color: green; color: white; }
    .home, .stop { background-color: red; color: white; }
    #animation {
      margin-top: 20px;
    }
    .ad-section {
      margin: 20px;
      border: 2px dashed #333;
      padding: 20px;
      min-height: 150px;
    }
    video, img {
      max-width: 100%;
      height: auto;
    }
    .ad-info {
      font-size: 14px;
      color: #555;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Number Game</h1>
    <div class="level-select">
      <h2>Choose Level</h2>
      <button onclick="startLevel(1)">Level 1 - Counting</button>
      <button onclick="startLevel(2)">Level 2 - Quiz Mode</button>
      <button onclick="startLevel(3)">Level 3 - Input Mode</button>
      <br><br>
      <button class="home" onclick="goHome()">Home</button>
    </div><div class="counting">
  <h2>Counting Numbers</h2>
  <div id="countDisplay"></div>
  <button class="play" onclick="playCounting()">Play</button>
  <button class="stop" onclick="pauseCounting()">Pause</button>
  <br><br>
  <button class="back" onclick="showLevelSelect()">Back</button>
  <button class="home" onclick="goHome()">Home</button>
</div>

<div class="quiz">
  <h2>Quiz Time</h2>
  <div id="question"></div>
  <div class="timer" id="timer"></div>
  <button class="option option1" id="opt1" onclick="checkAnswer(1)"></button>
  <button class="option option2" id="opt2" onclick="checkAnswer(2)"></button>
  <button class="option option3" id="opt3" onclick="checkAnswer(3)"></button>
  <button class="option option4" id="opt4" onclick="checkAnswer(4)"></button>
  <br>
  <button class="back" onclick="showLevelSelect()">Back</button>
  <button class="home" onclick="goHome()">Home</button>
</div>

<div class="input-mode">
  <h2>Type the Number</h2>
  <div id="speakNumber"></div>
  <input type="number" id="userInput" placeholder="Enter number">
  <button onclick="submitInput()">Submit</button>
  <div id="inputResult"></div>
  <div class="timer" id="inputTimer"></div>
  <br>
  <button class="back" onclick="showLevelSelect()">Back</button>
  <button class="home" onclick="goHome()">Home</button>
</div>

<div class="upload-ads">
  <h2>Upload Ads/Message</h2>
  <input type="file" id="adUpload" accept="image/*,video/*">
  <button onclick="uploadAd()">Upload</button>
  <div class="ad-info" id="adInfo" style="display:none;">
    <h3>Ad Pricing:</h3>
    <ul>
      <li>14 days - ₹99</li>
      <li>30 days - ₹149</li>
      <li>60 days - ₹249</li>
      <li>180 days - ₹499</li>
      <li>364 days - ₹999</li>
    </ul>
    <p><small>Terms and Conditions apply.</small></p>
  </div>
  <div class="ad-section" id="adSection">
    <img src="https://cdn.pixabay.com/photo/2017/01/31/13/14/boy-2023989_960_720.png" alt="Animation">
  </div>
  <br>
  <button class="back" onclick="showLevelSelect()">Back</button>
  <button class="home" onclick="goHome()">Home</button>
</div>

  </div>  <script>
    let level = 0;
    let countingInterval;
    let current = 1;
    let countingPaused = true;

    function goHome() {
      window.location.href = 'index.html';
    }

    function showLevelSelect() {
      document.querySelectorAll('.counting, .quiz, .input-mode, .upload-ads').forEach(div => div.style.display = 'none');
      document.querySelector('.level-select').style.display = 'block';
      clearInterval(countingInterval);
    }

    function startLevel(lvl) {
      level = lvl;
      document.querySelector('.level-select').style.display = 'none';
      if (lvl === 1) {
        document.querySelector('.counting').style.display = 'block';
        playCounting();
      } else if (lvl === 2) {
        document.querySelector('.quiz').style.display = 'block';
        startQuiz();
      } else if (lvl === 3) {
        document.querySelector('.input-mode').style.display = 'block';
        startInputMode();
      }
    }

    function playCounting() {
      countingPaused = false;
      countingInterval = setInterval(() => {
        if (!countingPaused) {
          document.getElementById('countDisplay').innerText = current;
          speak(current);
          current++;
          if (current > 100) clearInterval(countingInterval);
        }
      }, 4000);
    }

    function pauseCounting() {
      countingPaused = true;
    }

    function speak(text) {
      let utterance = new SpeechSynthesisUtterance(text);
      window.speechSynthesis.speak(utterance);
    }

    // Quiz Mode
    let quizTimer;
    let correctAnswer;
    let correctCount = 0;
    let wrongCount = 0;

    function startQuiz() {
      generateQuestion();
      startQuizTimer();
    }

    function generateQuestion() {
      let a = Math.floor(Math.random() * 100) + 1;
      correctAnswer = a;
      document.getElementById('question').innerText = `What is the number?`;
      let options = [a];
      while (options.length < 4) {
        let random = Math.floor(Math.random() * 100) + 1;
        if (!options.includes(random)) options.push(random);
      }
      options.sort(() => Math.random() - 0.5);
      options.forEach((opt, idx) => document.getElementById(`opt${idx+1}`).innerText = opt);
    }

    function checkAnswer(selected) {
      let selectedValue = document.getElementById(`opt${selected}`).innerText;
      if (selectedValue == correctAnswer) {
        speak('Right Answer');
        correctCount++;
      } else {
        speak('You need more practice');
        wrongCount++;
      }
      generateQuestion();
    }

    function startQuizTimer() {
      let timeLeft = 120;
      quizTimer = setInterval(() => {
        document.getElementById('timer').innerText = `${timeLeft}s`;
        timeLeft--;
        if (timeLeft < 0) {
          clearInterval(quizTimer);
          alert(`Time Over! Correct: ${correctCount}, Wrong: ${wrongCount}`);
          showLevelSelect();
        }
      }, 1000);
    }

    // Input Mode
    let inputTimerInterval;
    function startInputMode() {
      newSpeakNumber();
      startInputTimer();
    }

    function newSpeakNumber() {
      let number = Math.floor(Math.random() * 100) + 1;
      document.getElementById('speakNumber').innerText = 'Listen and Type';
      speak(number);
      correctAnswer = number;
    }

    function submitInput() {
      let userVal = document.getElementById('userInput').value;
      if (parseInt(userVal) === correctAnswer) {
        document.getElementById('inputResult').innerText = 'Good';
      } else {
        document.getElementById('inputResult').innerText = 'Wrong';
      }
      newSpeakNumber();
      document.getElementById('userInput').value = '';
    }

    function startInputTimer() {
      let timeLeft = 120;
      inputTimerInterval = setInterval(() => {
        document.getElementById('inputTimer').innerText = `${timeLeft}s`;
        timeLeft--;
        if (timeLeft < 0) {
          clearInterval(inputTimerInterval);
          alert(`Time Over!`);
          showLevelSelect();
        }
      }, 1000);
    }

    // Upload Ad
    function uploadAd() {
      const file = document.getElementById('adUpload').files[0];
      if (file) {
        if (file.size > 60000000) {
          alert('Video must be less than 59 seconds (~60MB).');
          return;
        }
        let url = URL.createObjectURL(file);
        let adSection = document.getElementById('adSection');
        if (file.type.startsWith('video')) {
          adSection.innerHTML = `<video controls src="${url}"></video>`;
        } else {
          adSection.innerHTML = `<img src="${url}">`;
        }
        document.getElementById('adInfo').style.display = 'block';
      }
    }

    // Initialize
    showLevelSelect();
  </script></body>
</html>
